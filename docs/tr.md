# Техническое решение проекта «TF‑IDF Calculations»

## Введение

* **Цель проекта:**
  Разработать систему для вычисления TF‑IDF (Term Frequency – Inverse Document Frequency), которая позволяет автоматически определять значимость слов в текстовых документах относительно всего корпуса. Проект предназначен для анализа текстов, выявления ключевых терминов и может служить базой для систем поиска, рекомендаций и кластеризации.

* **Основания для разработки:**
  Учебный проект в рамках курса «Основы распределенных вычислений». Проект демонстрирует практическое применение MapReduce‑подхода для текстовой аналитики(scikit‑learn).

* **Команда:**

  * Александр Кука — Разработчик / Архитектор
  * Клименко Степан — Аналитик / Тестировщик
  * Скудаева Варвара — Data Engineer

---

## Глоссарий

| Термин                           | Определение                                                                               |
| -------------------------------- | ----------------------------------------------------------------------------------------- |
| TF (Term Frequency)              | Частота появления слова в документе, нормированная на его длину.                          |
| IDF (Inverse Document Frequency) | Мера редкости слова в корпусе, отражающая его уникальность.                               |
| TF‑IDF                           | Произведение TF и IDF, определяющее важность слова для конкретного документа.             |
| MapReduce                        | Модель распределённых вычислений, используемая для параллельной обработки больших данных. |
| Корпус документов                | Набор текстов, по которым проводится анализ.                                              |
| Стоп‑слова                       | Часто встречающиеся слова, не несущие смысловой нагрузки (например, «и», «the», «of»).    |
| Облако слов (Word Cloud) | Визуальное представление текста, где размер слова соответствует его частоте или значимости (например, по TF-IDF). Используется для быстрого восприятия ключевых терминов. |

---

## Функциональные требования

Система должна предоставлять следующие функции:

1. Чтение и предобработка текстовых документов из заданной директории.
2. Очистка текста от пунктуации, чисел и стоп‑слов.
3. Подсчёт TF (частоты слов) и DF (числа документов, где встречается слово).
4. Вычисление IDF и TF‑IDF‑оценок для каждого слова.
5. Формирование выходных файлов:

   * Список ключевых слов для каждого документа.
   * Разреженная матрица TF‑IDF для корпуса.
6. Экспорт результатов в форматах CSV или JSON.
7. Визуализация: графики и облака слов.

---

## Нефункциональные требования

---

## Пользовательские сценарии

**Сценарий 1 — Локальная обработка:**
Пользователь запускает Python‑скрипт с указанием директории корпуса. Программа очищает тексты, вычисляет TF‑IDF и сохраняет результаты в CSV. Пользователь может просмотреть топ‑20 слов для каждого документа.

**Сценарий 2 — Распределённая обработка (MapReduce):**
Администратор загружает корпус в HDFS и запускает два этапа MapReduce: подсчёт TF и DF, затем вычисление IDF и TF‑IDF. После выполнения результаты экспортируются в JSON‑файл для анализа.

**Сценарий 3 — Визуализация:**
Пользователь открывает модуль визуализации, который строит графики и облака слов по вычисленным результатам TF‑IDF.

---

## Архитектура системы


**Распределённый режим (MapReduce):**

   * Mapper: извлекает слова и документ‑идентификаторы, формирует пары `word@doc_id`.
   * Reducer: агрегирует TF и DF, затем вычисляет IDF и TF‑IDF.

Данные хранятся в виде текстовых файлов (`.txt`, `.jsonl`). Выходные данные сохраняются в формате CSV/JSON.

---

## Технические сценарии

1. **Preprocessing stage:** очистка текста, удаление стоп‑слов, нормализация регистра.
2. **TF подсчёт:** подсчёт частоты слов в документе.
3. **DF и IDF:** вычисление количества документов, где встречается слово, и IDF‑метрики.
4. **TF‑IDF:** финальное вычисление TF‑IDF‑оценок.
5. **Экспорт и визуализация:** сохранение и визуальный анализ.

---

## План разработки и тестирования

| Этап | Задачи                                       
| ---- | -------------------------------------------- 
| 1    | Сбор корпуса и подготовка данных             
| 2    | Реализация локального пайплайна TF‑IDF       
| 3    | Визуализация и тестирование локальной версии 
| 4    | Реализация и тестирование MapReduce‑версии   
| 5    | Подготовка отчёта и итогового релиза         

**Тестирование:**

* Проверка корректности TF‑IDF‑значений (сравнение с эталоном scikit‑learn).
* Проверка производительности на разных размерах корпуса.
* Тестирование интерфейсов экспорта и визуализации.

